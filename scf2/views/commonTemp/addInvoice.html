<div class="div-width-90 detail-box div-center">
    <h1 class="content-title-1 content-title-condensed"><img src="../../../img/operator.png" alt="">
      添加发票
    </h1>
    <form action="#" id="addInvoice_form">
    <table class="div-width-100 table table-bordered table-striped table-hover recieve-table">
        <tr>
          <td width="30%"><span class="required">*</span>发票号码:</td>
          <td class="div-text-left" width="70%"><input type="text" name="invoiceNo" ng-model="childInfo.invoiceNo" valid="{'required':true}"></td>
        </tr>
        <tr>
          <td width="30%"><span class="required">*</span>发票代码:</td>
          <td class="div-text-left" width="70%"><input type="text" name="invoiceNo" ng-model="childInfo.invoiceCode" valid="{'required':true}"></td>
        </tr>
        <tr>
          <td width="30%"><span class="required">*</span>纳税人识别号:</td>
          <td class="div-text-left" width="70%"><input type="text" name="invoiceNo" ng-model="childInfo.taxpayerNo" valid="{'required':true}"></td>
        </tr>
        <tr>
          <td width="30%">行业类别:</td>
          <td class="div-text-left" width="70%">
            <select ng-model="childInfo.corpVocate">
              <option ng-repeat="item in corpVocateType" ng-option-filter value="{{item.value}}" ng-bind="item.name" ng-selected="childInfo.corpVocate == item.value"></option>
            </select>
          </td>
        </tr>
        <tr>
          <td width="30%">开票日期:</td>
          <td class="div-text-left" width="70%">
            <input type="text" bt-date="childInfo.invoiceDate">
          </td>
        </tr>
        <tr>
          <td width="30%"><span class="required">*</span>发票金额(元):</td>
          <td class="tab-text-right"><input type="text" name="balance" ng-model="childInfo.balance" valid="{'required':true}" ></td>
        </tr>
        <tr>
          <td width="30%"><span class="required">*</span>开票人:</td>
          <td class="div-text-left"><input type="text" name="balance" ng-model="childInfo.drawer" valid="{'required':true}" ></td>
        </tr>
        <tr>
          <td width="30%"><span class="required">*</span>备注:</td>
          <td class="div-text-left">
            <textarea name="" id="" cols="30" rows="10" ng-model="childInfo.description"></textarea>
          </td>
        </tr>
        <!-- <tr>
          <td width="30%">附件:</td>   
          <td width="70%">
              <button class="btn btn-info" type="button" 
              ng-click="openUpload($event,'InvoiceAccessory','发票附件','invoiceAttach')" ng-show="!invoiceAttach[0].fileName" mapping="upload_open_btn">上传附件</button>
              <a href="{{invoiceAttach[0].url}}" ng-bind="invoiceAttach[0].fileName" ng-show="invoiceAttach[0].fileName"></a>
          </td>
        </tr> -->
    </table>
    </form>
    
    <!-- 发票明细列表 -->
    <table class="table table-striped table-hover table-bordered">
        <caption class="table-caption table-caption-green clearFix">
          <span class="title-left">发票明细</span>
          <button class="btn btn-info btn-right"  ng-click="childInfoMoreImBox('1');">+添加项目</button>
        </caption>
        <thead>
        <tr class="result-head-gray">
          <td width="18.5%">项目</td>
          <td width="14.5%">单价</td>
          <td width="12.5%">数量</td>
          <td width="16.5%">金额</td>
          <td width="20.5%">备注</td>
          <td width="16.5%">操作</td>
        </tr>
      </thead>
      <tbody>
          <tr ng-repeat-end ng-class="{even:$even}" ng-repeat="item in childInfoMoreList">
            <td ng-bind="item.subject"></td>
            <td class="tab-text-right" ng-bind="item.unit"></td>
            <td ng-bind="item.amount"></td>
            <td class="red tab-text-right" ng-bind="item.balance|moneyFilter"></td>
            <td ng-bind="item.description"></td>
            <td>
              <a href="javascript:void(0);" ng-click="delChildInfoMore(item);">删除</a>
            </td>
          </tr>
      </tbody>
    </table>

    <!-- 发票附件列表 -->
    <table class="table table-striped table-hover table-bordered">
        <caption class="table-caption table-caption-green clearFix">
          <span class="title-left">发票附件列表</span>
          <button class="btn btn-info btn-right"  ng-click="openUpload($event,'invoiceFile','发票附件','childUploadList')">+添加附件</button>
        </caption>
        <thead>
        <tr class="result-head-gray">
          <td width="10%">附件类型</td>
          <td width="10%">附件名称</td>
          <td width="10%">操作</td>
        </tr>
      </thead>
      <tbody>
          <tr ng-repeat-end ng-class="{even:$even}" ng-repeat="item in childUploadList">
            <td>发票附件</td>
            <td ng-bind="item.fileName"></td>
            <td>
              <a href="{{item.id|downf}}">下载</a>
              <a href="javascript:void(0);" ng-click="delUploadItem(item,'childUploadList');">删除</a>
            </td>
          </tr>
      </tbody>
    </table>
    <div>
         <div class="center-buttons">
           <button class="btn btn-primary" ng-click="addChildInfo($event.target,'1');">确定添加</button>
           <button class="btn btn-primary" bt-close-modal >取消</button>
         </div>
    </div>
</div> 
