/*! This file is created by binhg atWed Oct 11 2017 14:09:12 GMT+0800 (中国标准时间) */
!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var o=window.webpackJsonp;window.webpackJsonp=function(n,r){for(var u,c,l=0,i=[];l<n.length;l++)c=n[l],a[c]&&i.push.apply(i,a[c]),a[c]=0;for(u in r)e[u]=r[u];for(o&&o(n,r);i.length;)i.shift().call(null,t)};var n={},a={1:0};return t.e=function(e,o){if(0===a[e])return o.call(null,t);if(void 0!==a[e])a[e].push(o);else{a[e]=[o];var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=t.p+""+e+"."+({2:"mui",3:"angular",4:"wechat"}[e]||e)+".js",n.appendChild(r)}},t.m=e,t.c=n,t.p="https://static.qiejf.com/better/wechat/dist/",t(0)}([function(e,t,o){o.e(2,function(){o(1),o(2),o(4),o(5),o(6),o(7),o.e(3,function(){o(8),o(9),o(10),o(11),o.e(4,function(){var e=o(12),t=angular.module("mainApp",["ngRoute","ngTouch","wx"]),n=o(13);n.direcPlus(t);var a=o(14);a.filterPlus(t);var r=o(15);r.servPlus(t);var u=o(16);u.installAllControllers(t,e);var c=o(22);c.installRoute(t),t.run(["$rootScope","http","$route","cache","scopeBridge",function(t,o,n,a,r){t.toggleEye=function(e,o){var n=e+"."+o,a=o+"Eye";t[e][a]=!t[e][a],console&&console.info(t[e][a]);var r=document.querySelector("[ng-model='"+n+"']");r.type=t[e][a]?"text":"password"},t.typeChange=function(e){e.type="password",$(e).unbind("focus")},t.loginInfo={},t.currentTask={},t.pageTitle="",t.commonPageFlag=!0,t.readonly=!0,t.auditResult={data:"",taskId:"",content:"",password:"",rejectNode:"",result:0},t.auditListPage={pageNum:1,pageSize:10},t.locationCache={prev:"#/home",current:"#/home"},t.submit=function(){"2"==t.currentTask.workFlowNode.type?t.handleWorkFlow():t.passWorkFlow()},t.passWorkFlow=function(){0==t.auditResult.result;var a=r.getRouteScope(n),u=a.$GET_RESULT("pass");u&&(t.auditResult.data=JSON.stringify(u),o.post(BTPATH.PASS_WORKFLOW_TASK,$.extend({},t.auditResult,{result:0})).success(function(t){e.isCurrentResponse(t)?mui.alert("审批通过流程成功!",function(){window.history.back()}):mui.alert("审批通过流程失败,服务器返回:"+t.message,function(){})}))},t.handleWorkFlow=function(){2==t.auditResult.result;var a=r.getRouteScope(n),u=a.$GET_RESULT("handle");u&&(t.auditResult.data=JSON.stringify(u),o.post(BTPATH.HANDLE_WORKFLOW_TASK,$.extend({},t.auditResult,{result:2})).success(function(t){e.isCurrentResponse(t)?mui.alert("办理流程成功!",function(){window.history.back()}):mui.alert("办理流程失败,服务器返回:"+t.message,function(){})}))},t.cancelWorkFlow=function(){var a=r.getRouteScope(n),u=a.$GET_RESULT("cancel");u&&(t.auditResult.data=JSON.stringify(u),o.post(BTPATH.CANCEL_WORKFLOW_TASK,$.extend({},t.auditResult,{result:3})).success(function(t){e.isCurrentResponse(t)?mui.alert("办理流程成功!",function(){window.history.back()}):mui.alert("办理流程失败,服务器返回:"+t.message,function(){})}))},t.goBack=function(){window.history.back()},t.flowRecord=function(){window.location.href="flow.html#/flow/flowRecord"},t.checkLogin=function(e){o.post(BTPATH.CHECK_IS_LOGIN,{}).success(function(t){t.data+""=="0"?e?mui.alert("请您通过拜特企e金服公众号进行开户！","温馨提醒",function(){wx.closeWindow()}):mui.alert("您未登录,或者登陆超时,请重新登陆。\n若还未开户，请先进行开户！","温馨提醒",function(){wx.closeWindow()}):t.data+""=="2"&&(e||mui.alert("您未登录,或者登陆超时,请重新登陆。\n若还未开户，请先进行开户！","温馨提醒",function(){wx.closeWindow()}))})},t.$on("$routeChangeSuccess",function(){if($("#progress").hide(),t.locationCache.prev=t.locationCache.current,t.locationCache.current=window.location.hash,t.pageTitle=n.current.$$route?n.current.$$route.title:"",n.current.loadedTemplateUrl){var e=(n.current.loadedTemplateUrl.indexOf("403page.html")===-1,n.current.loadedTemplateUrl.indexOf("accountSuccess.html")===-1,n.current.loadedTemplateUrl.indexOf("todoFlow.html")!==-1),o=n.current.loadedTemplateUrl.indexOf("didFlow.html")!==-1,r=n.current.loadedTemplateUrl.indexOf("flowRecord.html")!==-1;t.commonPageFlag=e||o||r,t.commonPageFlag?(t.pageTitle="任务管理",r&&(t.pageTitle="审批记录"),$("#footer").hide()):(t.readonly=a.get("WORKFLOW_TASK_FLAG"),t.currentTask=a.get("currentTask"),t.auditResult.taskId=t.currentTask.taskId,$("#footer").show(),"readonly"!==t.readonly.readonly?($("#content").show(),$("#button").show(),$("#password").show()):($("#content").hide(),$("#button").hide(),$("#password").hide()),t.pageTitle=t.currentTask.workFlowNode.nickname+(t.currentTask.workFlowStep?"--"+t.currentTask.workFlowStep.nickname:""))}})}]),angular.bootstrap($("#container"),["mainApp"])})})})}]);